create table ARTICLE (
	ARTICLE_ID INT IDENTITY not null,
	USER_ID NVARCHAR(255) null,
	TITLE NVARCHAR(255) null,
	CONTENT NTEXT null,
	URL_TILE NVARCHAR(255) null,
	COVER_IMAGE_URL NVARCHAR(255) null,
	CREATION_DATETIME DATETIME null,
	LAST_MODIFIED_DATETIME DATETIME null,
	STATUS INT null,
	primary key (ARTICLE_ID)
);
create table TAG (
	TAG_ID INT IDENTITY not null,
	DISPLAY_NAME NVARCHAR(255) null,
	USED_COUNT INT null,
	LAST_USED_DATETIME DATETIME null,
	primary key (TAG_ID)
);
create table ARTICLE_TAG_EDGE (
	TAG_ID INT not null,
	ARTICLE_ID INT not null,
	primary key (TAG_ID, ARTICLE_ID)
);
create table HIT (
	HIT_ID INT IDENTITY not null,
	RESOURCE_ID INT null,
	IP_ADDRESS NVARCHAR(255) null,
	HIT_TYPE INT null,
	CREATION_DATETIME DATETIME null,
	primary key (HIT_ID)
);
create table SIMPLE_USER (
	USER_ID NVARCHAR(255) not null,
	LOGIN_ID NVARCHAR(255) null,
	PASSWORD NVARCHAR(255) null,
	DISPLAY_NAME NVARCHAR(255) null,
	primary key (USER_ID)
);

alter table ARTICLE_TAG_EDGE  add constraint FK_ARTICLE_TAG_EDGE_TAG foreign key (TAG_ID) references TAG;
alter table ARTICLE_TAG_EDGE  add constraint FK_ARTICLE_TAG_EDGE_ARTICLE foreign key (ARTICLE_ID) references ARTICLE;

CREATE NONCLUSTERED INDEX [IX_FK_ARTICLE_TAG_EDGE_1] ON [ARTICLE_TAG_EDGE] ([TAG_ID] ASC);
CREATE NONCLUSTERED INDEX [IX_FK_ARTICLE_TAG_EDGE_2] ON [ARTICLE_TAG_EDGE] ([ARTICLE_ID] ASC);